# ============================================================
# GITHUB CONFIGURATION
# ============================================================

# Single repository (legacy, for backward compatibility)
GITHUB_REPO=mmenalla/code-risk-guard

# Multiple repositories (JSON array format)
GITHUB_REPOS=["scikit-learn/scikit-learn", "pandas-dev/pandas", "huggingface/transformers"]

# GitHub Personal Access Token (required for API access)
GITHUB_TOKEN=ghp_your_github_token_here

# ============================================================
# JIRA INTEGRATION (Optional)
# ============================================================

JIRA_URL=https://your-company.atlassian.net
JIRA_USER=your-email@company.com
JIRA_API_TOKEN=your_jira_api_token_here
JIRA_PROJECT_KEY=TECH

# ============================================================
# LLM CONFIGURATION (Optional)
# ============================================================

OPENAI_API_KEY=sk-your-openai-api-key-here

# ============================================================
# MODEL CONFIGURATION
# ============================================================

MODEL_NAME=xgboost_degradation_model.pkl

# ============================================================
# DATA COLLECTION CONFIGURATION
# ============================================================

# Time window for historical data (days)
SINCE_DAYS=150

# Maximum PRs/commits to analyze
MAX_PRS=50
MAX_COMMITS=10000

# Window size for multi-window degradation model (days)
WINDOW_SIZE_DAYS=150

# ============================================================
# TRAINING PIPELINE CONFIGURATION
# ============================================================

# Set to 'false' to skip data collection and train from existing MongoDB data
FETCH_NEW_DATA=True

# Label Source Filter for Training
# Options: "all", "sonarqube", "heuristic", "manager", "sonarqube+heuristic", "sonarqube+manager"
LABEL_SOURCE_FILTER=sonarqube

# Enable hyperparameter tuning (slower but better RÂ²)
TUNE_HYPERPARAMETERS=true

# ============================================================
# TICKET GENERATION (Optional)
# ============================================================

GENERATE_TICKETS=False
RISK_SCORE_THRESHOLD=0.5
NUM_TICKETS_PER_MODULE=1

# ============================================================
# MONGODB CONFIGURATION
# ============================================================

# For Docker: use service name 'mongo'
# For local: use 'localhost'
MONGO_URI=mongodb://admin:admin@mongo:27017/risk_model_db?authSource=admin
MONGO_DB=risk_model_db
MONGO_COLLECTION=ticket_drafts
MONGO_PREDICTIONS_COLLECTION=model_predictions
MONGO_FEEDBACK_COLLECTION=risk_feedback
# ============================================
# MCP (Model Context Protocol) Configuration
# ============================================

# Enable MCP mode for intelligent ticket generation
# Set to 'true' to use MCP agent with context, tools, and caching
# Set to 'false' to use legacy simple GPT-4 calls
USE_MCP=true

# GPT-4 model to use for MCP (if enabled)
# Options: gpt-4-turbo-preview, gpt-4, gpt-4-32k
MCP_MODEL=gpt-4-turbo-preview

# Enable tool calling (allows GPT-4 to request additional data)
MCP_ENABLE_TOOLS=true

# Enable caching (stores generated tickets to avoid regeneration)
MCP_ENABLE_CACHING=true

# ============================================================
# SONARQUBE CONFIGURATION
# ============================================================

# For Docker: use service name 'sonarqube:9000'
# For local browser: use 'localhost:9000'
SONARQUBE_URL=http://sonarqube:9000

# Generate token at: My Account > Security > Generate Token
SONARQUBE_TOKEN=sqp_your_sonarqube_token_here

# Project keys (JSON array, must match order of REPO_NAMES)
SONARQUBE_PROJECT_KEYS=["sklearn", "pandas", "transformers", "kubernetes", "numpy", "TechDebtGPT", "tech-debt-api", "code-risk-guard"]

# ============================================================
# LOCAL REPOSITORY CONFIGURATION
# ============================================================

# Use local Git commits (true) or GitHub PRs (false)
USE_COMMITS=true

# Base directory where repositories are cloned
# Docker path (mounted in docker-compose.yml)
REPO_BASE_DIR=/repos/TDGPTRepos

# Repository names (JSON array, must match directory names)
REPO_NAMES=["scikit-learn", "pandas", "transformers", "kubernetes", "numpy", "TechDebtGPT", "tech-debt-api", "code-risk-guard"]

# Single repository path (legacy)
REPO_PATH=/repos/readlike-me

# Default branch name
BRANCH_NAME=main

# Per-repository branch mapping (JSON object)
REPO_BRANCHES={"scikit-learn": "main", "pandas": "main", "transformers": "main", "TechDebtGPT": "dev", "tech-debt-api": "dev"}